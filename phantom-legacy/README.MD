Для решения задачи последовательного перебора переменного числа запросов

(тестирование входных наборов для приложения)

можно было использовать Phantom.js

В силу спефицики того, как там был оформлен вызов кода (page используется внутри асинхронного коллбэка просто упоминанием внешней 
переменной, а не внедрением зависимости через аргумент коллбэка, прочие неудобства) цикл там использован быть не мог. Поэтому 
там пришлось использовать рекурсивную модель. См. tester.js и tester2.js
